<body class="gradient-custom-3">
  <%= stylesheet_link_tag 'registration', media: 'all', 'data-turbolinks-track': 'reload' %>
  <div class="container">
    <h1>Welcome, <%= @user.firstname %>!</h1>
    <section>
      <h2>Your Profile</h2>
      <p>Name: <%= @user.firstname %> <%= @user.lastname %></p>
      <p>Email: <%= @user.email %></p>
      <%= link_to 'Edit Profile', edit_user_path(@user) %>
    </section>
    <section>
      <h2>Upcoming Appointments</h2>
      <ul>
        <% @appointments.each do |appointment| %>
          <li>
            <strong><%= appointment.start_time.strftime('%b %e, %l:%M %p') %>:</strong> 
            Appointment with Dr. <%= appointment.dentist_name %>
            
            <% if appointment.status == 'pending' %>
              <span class="pending-status"><b style="color: orange;">Pending</b></span>
            <% elsif appointment.status == 'waiting_to_accept' %>
              <span class="waiting-status"><b style="color: blue;">Waiting for Dentist's Approval</b></span>
            <% elsif appointment.status == 'cancelled' %>
              <span class="cancelled-status"><b style="color: red;">Cancelled</b></span>
            <% elsif appointment.status == 'accepted' %>
              <span class="accepted-status"><b style="color: green;">Accepted</b></span>
            <% end %>
          </li>
        <% end %>
      </ul>
    </section>
  </div>
</body>
